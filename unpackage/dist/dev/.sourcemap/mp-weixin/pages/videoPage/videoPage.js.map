{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Lzw/Desktop/工作需求/小程序/courseApp/pages/videoPage/videoPage.vue?6bae","webpack:///C:/Users/Lzw/Desktop/工作需求/小程序/courseApp/pages/videoPage/videoPage.vue?9fe6","webpack:///C:/Users/Lzw/Desktop/工作需求/小程序/courseApp/pages/videoPage/videoPage.vue?70cc","webpack:///C:/Users/Lzw/Desktop/工作需求/小程序/courseApp/pages/videoPage/videoPage.vue?d94e","uni-app:///pages/videoPage/videoPage.vue","webpack:///C:/Users/Lzw/Desktop/工作需求/小程序/courseApp/pages/videoPage/videoPage.vue?80f9","webpack:///C:/Users/Lzw/Desktop/工作需求/小程序/courseApp/pages/videoPage/videoPage.vue?33b7"],"names":["createPage","Page"],"mappings":"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","file":"pages/videoPage/videoPage.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/videoPage/videoPage.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./videoPage.vue?vue&type=template&id=41136a1c&\"\nvar renderjs\nimport script from \"./videoPage.vue?vue&type=script&lang=js&\"\nexport * from \"./videoPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./videoPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/videoPage/videoPage.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./videoPage.vue?vue&type=template&id=41136a1c&\"","var components = {\n  uniFav: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-fav/uni-fav\" */ \"@/components/uni-fav/uni-fav.vue\"\n    )\n  },\n  uniRate: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-rate/uni-rate\" */ \"@/components/uni-rate/uni-rate.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./videoPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./videoPage.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\r\n\t\r\n\t\t<button open-type=\"share\" catchtap=\"share\" class=\"goodsShare\"></button>\r\n\r\n\t\t<view class=\"good-img-box\">\r\n\t\t\t<image :src=\"courseDetail.picture\" mode=\"\" class=\"good-img\" v-show=\"whetherPlay==false\"></image>\r\n\t\t\t<!-- <view class=\"momLayer\" v-show=\"dataOptions.singUpState=='false'\">\r\n\t\t\t\t<view class=\"layerText\">\r\n\t\t\t\t\t!请先购买\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\r\n\t\t\t<video class=\"videoBox\" :src=\"src\"  v-show=\"whetherPlay==true\"></video>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"goods-price\">\r\n\t\t\t<text class=\"Current-price\">￥<text class=\"Current-priceNum\">{{priceDisShow}}</text></text>\r\n\t\t\t<text class=\"beofre-price\">￥<text class=\"beofre-priceNum\">{{priceOldShow}}</text></text>\r\n\t\t</view>\r\n\t\t<!-- 商品详情 -->\r\n\t\t<view class=\"goods-detail\">\r\n\t\t\t<p class=\"goods-name\">{{courseDetail.name}}</p>\r\n\t\t\t<view class=\"classTime\">\r\n\t\t\t\t<view class=\"classTime-left\">\r\n\t\t\t\t\t<p>可选</p>\r\n\t\t\t\t\t<image src=\"../../static/img/point.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"classTime-right\">\r\n\t\t\t\t\t<view v-for=\"(item,index) in optionClass\" :key=\"index\" :class=\"{ClassChoose:timeDataNum==index}\" @click=\"chooseClose(item,index)\">\r\n\t\t\t\t\t\t{{item.lable}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"classTip\">\r\n\t\t\t\t<image src=\"../../static/img/classTip.png\" mode=\"\"></image>\r\n\t\t\t\t<text>{{description}}</text>\r\n\t\t\t\t<uni-fav :checked=\"checked\" class=\"favBtn\" circle=\"true\" bg-color=\"#eeeeee\" bg-color-checked=\"#FF7B22\" @click=\"checkChange\"></uni-fav>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<!-- 课程评分 -->\r\n\t\t<view class=\"course-score\">\r\n\t\t\t<view class=\"common-titie\">\r\n\t\t\t\t<image src=\"../../static/img/commonImg.png\" mode=\"\"></image>\r\n\t\t\t\t<text>评论</text>\r\n\t\t\t</view>\r\n\t\t\t<p class=\"noComments\" v-if=\"commentList.length==0\">暂无评论</p>\r\n\t\t\t<view class=\"comments-box\" v-for=\"(item,index) in commentList\" :key=\"index\">\r\n\t\t\t\t<view class=\"comments-head\">\r\n\t\t\t\t\t<image :src=\"item.avatar\" mode=\"\"></image>\r\n\t\t\t\t\t<text class=\"reviewers\">{{item.nickName}}</text>\r\n\t\t\t\t\t<text class=\"CommentTime\">{{item.createTime}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<p class=\"Comment-content\">{{item.comment}}</p>\r\n\t\t\t\t<uni-rate :value=\"item.score\" size=\"18\" :disabled=\"true\"></uni-rate>\r\n\t\t\t</view>\r\n\r\n\t\t\t<p class=\"anList\" v-show='listCheck == true' @click=\"anListBox\" v-if=\"commentData.length>3\">展开评论<view class=\"rotate\">»</view>\r\n\t\t\t</p>\r\n\t\t\t<p class=\"closeList\" v-show='listCheck == false' @click=\"closeListBox\">收起评论<view class=\"rotate\">»</view>\r\n\t\t\t</p>\r\n\t\t</view>\r\n\r\n\r\n\r\n\t\t<!-- 课程详情 -->\r\n\t\t<view class=\"course-detail\">\r\n\t\t\t<view class=\"common-titie\">\r\n\t\t\t\t<image src=\"../../static/img/commonImg.png\" mode=\"\"></image>\r\n\t\t\t\t<text>详情</text>\r\n\t\t\t</view>\r\n\t\t\t<view v-html=\"vHtml\"></view>\r\n\t\t</view>\r\n\r\n\r\n\r\n\t\t<!-- 地址 -->\r\n\t\t<view class=\"address-box\">\r\n\t\t\t<view class=\"common-titie\">\r\n\t\t\t\t<image src=\"../../static/img/commonImg.png\" mode=\"\"></image>\r\n\t\t\t\t<text>地址信息</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"address-detail\" @click=\"checkMap\">\r\n\t\t\t\t<image src=\"../../static/img/address.png\" mode=\"\"></image>\r\n\t\t\t\t<view class=\"school-detail\">\r\n\t\t\t\t\t<p class=\"school-name\">瑞晟艺术学校</p>\r\n\t\t\t\t\t<p class=\"school-loacl\">湖南省岳阳市岳阳楼区德胜南路518号2楼</p>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"nothing\"></view>\r\n\r\n\t\t<!-- 电话客服、立即报名 -->\r\n\t\t<view class=\"call-signUp\">\r\n\t\t\t<view class=\"call-box\" @click=\"phoneCall\">\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t<image src=\"../../static/img/telephone.png\" mode=\"\"></image>\r\n\t\t\t\t\t<text>电话客服</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t<!-- \t<view class=\"signUp-box\" @click=\"goPayment\">\r\n\t\t \t\t<p>立即购买</p>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"signUp-box\" @click=\"goPayment\" v-if=\"whetherPlay==false\">\r\n\t\t\t\t<p>立即购买</p>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"signUpEd-box\" v-if=\"whetherPlay==true\">\r\n\t\t\t\t<p>已报名</p>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport request from \"@/units/request.js\"\r\n\timport polyv from \"@/units/polyv.js\"\r\n\timport utilMd5 from \"@/units/md5.js\"\r\n\t// import userStatus from \"@/units/common.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcourseDetail: '', //课程详情\r\n\t\t\t\tdataOptions: '', //承接上一个页面传来的数据\r\n\t\t\t\toptionClass: [], //课程有多少课时\r\n\t\t\t\t// chooseCloseTime: '', //所选择的课时\r\n\t\t\t\ttimeData: [{\r\n\t\t\t\t\ttime: \"10\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttime: \"20\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttime: \"30\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttime: \"40\"\r\n\t\t\t\t}, ],\r\n\t\t\t\ttimeDataNum: 0,\r\n\t\t\t\tdescription: '', //文字描述\r\n\t\t\t\tcommentData: [], //评论列表\r\n\t\t\t\tchecked: false, //是否收藏\r\n\t\t\t\tsingleOpenid: '', //分享按钮要携带的用户openid\r\n\t\t\t\tlistCheck: true, //\r\n\t\t\t\tcommentList: [],\r\n\t\t\t\tpriceDisShow: '', //\r\n\t\t\t\tpriceOldShow: '', //\r\n\t\t\t\tvHtml: '', //课程详情\r\n\t\t\t\tsrc: '', //视频链接\r\n\t\t\t\tsecretKey:'',//视频密匙\r\n\t\t\t\toptionId :'',\r\n\t\t\t\tcheckStatus:false,\r\n\t\t\t\twhetherPlay:false, //是否显示播放控件\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tif (Object.keys(option).length > 0) {\r\n\t\t\t\tthis.$store.state.shareOpenId = option.openid\r\n\t\t\t\tthis.getCourseDteails(option.id)\r\n\t\t\t\tthis.checkStatus = true\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuni.setStorageSync('judgeClass', option.id); //存入所分享的课程ID，如果最后被分享者支付的课程同是此课程，那分享者就有佣金\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t} else {\r\n\t\t\t\tthis.checkStatus = false\r\n\t\t\t}\r\n\r\n\t\t},\r\n      \r\n\t\tonShow() {\r\n\t\t\tthis.commentList = [] //清空评论列表在插入新的\r\n\t\t\tthis.optionClass=[] //清空视频挑选lable\r\n\t\t\tthis.dataOptions = this.$store.state.videoItem;  //获取点击网授视频课程的信息\r\n\t\t\t// console.log('this.dataOptions',this.dataOptions\t)\r\n\t\t\tif(!this.checkStatus){\r\n\t\t\t\tthis.getCourseDteails(this.dataOptions.id)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t//请求课程详情数据\r\n\t\t\tgetCourseDteails(id) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: ''\r\n\t\t\t\t});\r\n\t\t\t\tlet opts = {\r\n\t\t\t\t\turl: 'class/netdetail?id=' + id, //接口地址\r\n\t\t\t\t\tmethod: 'GET' //请求类型\r\n\t\t\t\t};\r\n\t\t\t\tlet param = {}; //该请求所需要的参数\r\n\t\t\t\trequest.baseRequest(opts, param).then(res => {\r\n\t\t\t\t\t// console.log('结果',res.data.content)\r\n\t\t\t\t\tthis.courseDetail = res.data.content\r\n\t\t\t\t\t// 提取播放密匙\r\n\t\t\t\t\tthis.secretKey = res.data.content.polyvSecretKey\r\n\t\t\t\t\tif (this.dataOptions.singUpState == 'true') {\r\n\t\t\t\t\t\t\tthis.whetherPlay = true\r\n\t\t\t\t\t\tthis.playVideo(res.data.content.detail[0]) //如果此用户报了名，则出现点播视频控件\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(var k in res.data.content.detail){  //可选视频标签\r\n\t\t\t\t\t\tvar obj = {}\r\n\t\t\t\t\t\tobj.lable = res.data.content.detail[k].lable\r\n\t\t\t\t\t\tobj.videoSrc = res.data.content.detail[k].videoSrc\r\n\t\t\t\t\t\tthis.optionClass.push(obj)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.courseDetail.picture = this.$url + this.courseDetail.picture\r\n\t\t\t\t\tthis.description = res.data.content.classDesc\r\n\t\t\t\t\tthis.checked = res.data.content.collectState\r\n\t\t\t\t\tthis.commentData = res.data.content.comments\r\n\r\n\r\n\t\t\t\t\tthis.courseDetail.priceDiscount = this.courseDetail.priceDiscount.split(',')\r\n\t\t\t\t\tthis.courseDetail.priceOld = this.courseDetail.priceOld.split(',')\r\n\r\n\t\t\t\t\tthis.priceDisShow = this.courseDetail.priceDiscount[0] //初始页面时的商品现在价格\r\n\t\t\t\t\tthis.priceOldShow = this.courseDetail.priceOld[0] //初始页面时的商品以往价格\r\n\r\n\t\t\t\t\tfor (var i = 0; i < this.commentData.length; i++) {\r\n\t\t\t\t\t\tthis.commentData[i].createTime = this.commentData[i].createTime.split(' ')[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.commentData.length > 2) {\r\n\t\t\t\t\t\tfor (var k = 0; k < 3; k++) {\r\n\t\t\t\t\t\t\tthis.commentList.push(this.commentData[k])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.commentList = this.commentData\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.vHtml = res.data.content.content\r\n\t\t\t\t\tthis.vHtml = this.vHtml.replace(/<img/gi,\r\n\t\t\t\t\t\t'<img style=\"max-width:100%;height:auto;display:block\" ref=\"img\" ');\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t\t//如果此用户报了名，则出现点播视频控件\r\n\t\t\tplayVideo(data) {\r\n\t\t\t\tlet vid = data.videoSrc;\r\n\t\t\t\tlet timestamp = Date.parse(new Date());\r\n\t\t\t\tlet secretKey = this.secretKey; //\r\n\t\t\t\tlet ts = timestamp;\r\n\t\t\t\tlet sign = utilMd5.hexMD5(secretKey + vid + ts);\r\n\t\t\t\t/*获取视频数据*/\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tvid: vid,\r\n\t\t\t\t\tts: ts,\r\n\t\t\t\t\tsign: sign,\r\n\t\t\t\t\tcallback: videoInfo => {\r\n\t\t\t\t\t\tif (videoInfo.type === 'error') {\r\n\t\t\t\t\t\t\tconsole.log('videoInfo', videoInfo);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.src = videoInfo.src[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.player = polyv.getVideo(obj);\r\n\t\t\t},\r\n\r\n\r\n\r\n\t\t\t//挑选视频\r\n\t\t\tchooseClose(item, index) {\r\n\t\t\t\tthis.timeDataNum = index\r\n\t\t\t\tif(this.whetherPlay==true){\r\n\t\t\t\t\tthis.playVideo(item)  //选择播放其他视频\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t},\r\n\r\n\r\n\r\n\r\n\t\t\t// 拨打电话\r\n\t\t\tphoneCall() {\r\n\t\t\t\tlet _self = this\r\n\t\t\t\tvar phone = \"\"\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: _self.$url + 'contact/list',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t_self.merchantsPhone(res.data.content.serviceTel)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tmerchantsPhone(phone) {\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\t// 手机号\r\n\t\t\t\t\tphoneNumber: phone,\r\n\t\t\t\t\t// 成功回调\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('调用成功!')\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 失败回调\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tconsole.log('调用失败!')\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 点击导航\r\n\t\t\tcheckMap() {\r\n\t\t\t\tuni.openLocation({\r\n\t\t\t\t\tlatitude: 29.356903680267948,\r\n\t\t\t\t\tlongitude: 113.1060313128281,\r\n\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\tconsole.log('success');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//显示定位点：\r\n\t\t\t\tvar map = uni.createMapContext('map');\r\n\t\t\t\tmap.moveToLocation();\r\n\t\t\t},\r\n\r\n\t\t\t// 跳转至支付页面并携带参数\r\n\t\t\tgoPayment() {\r\n\t\t\t\tvar obj = {\r\n\t\t\t\t\tprice: this.priceDisShow, //价格\r\n\t\t\t\t\tname: this.courseDetail.name,\r\n\t\t\t\t\tpic: this.courseDetail.picture,\r\n\t\t\t\t\t// time: this.chooseCloseTime,\r\n\t\t\t\t\tid: this.courseDetail.id,\r\n\t\t\t\t\tonDemand: true, //判断是面授课程还是网授课程\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"../payment/payment?item=\" + encodeURIComponent(JSON.stringify(obj))\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 收藏按钮\r\n\t\t\tcheckChange() {\r\n\t\t\t\tthis.checked = !this.checked\r\n\t\t\t\tif (this.checked) {\r\n\t\t\t\t\tlet opts = {\r\n\t\t\t\t\t\turl: 'collect/add', //接口地址\r\n\t\t\t\t\t\tmethod: 'POST' //请求类型\r\n\t\t\t\t\t};\r\n\t\t\t\t\tlet param = {\r\n\t\t\t\t\t\t\"classId\": this.courseDetail.id,\r\n\t\t\t\t\t}; //该请求所需要的参数\r\n\t\t\t\t\trequest.baseRequest(opts, param).then(res => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '收藏成功',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet opts = {\r\n\t\t\t\t\t\turl: 'collect/delete?id=' + this.courseDetail.id, //接口地址\r\n\t\t\t\t\t\tmethod: 'GET' //请求类型\r\n\t\t\t\t\t};\r\n\t\t\t\t\tlet param = {}; //该请求所需要的参数\r\n\t\t\t\t\trequest.baseRequest(opts, param).then(res => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '取消收藏',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\t\t\t//分享按钮携带参数\r\n\t\t\tonShareAppMessage(res) {\r\n\t\t\t\tthis.singleOpenid = uni.getStorageSync('openid');\r\n\t\t\t\t// if (res.from === 'button') { // 来自页面右上角分享按钮\r\n\t\t\t\t// }\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpath: '/pages/videoPage/videoPage?openid=' + this.singleOpenid + '&id=' + this.dataOptions.id\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//展开评论\r\n\t\t\tanListBox() {\r\n\t\t\t\tthis.listCheck = !this.listCheck\r\n\t\t\t\tthis.commentList = []\r\n\t\t\t\tfor (var i = 0; i < this.commentData.length; i++) {\r\n\t\t\t\t\tthis.commentList.push(this.commentData[i])\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//收起评论\r\n\t\t\tcloseListBox() {\r\n\t\t\t\tthis.listCheck = !this.listCheck\r\n\t\t\t\tthis.commentList = []\r\n\t\t\t\tfor (var k = 0; k < 3; k++) {\r\n\t\t\t\t\tthis.commentList.push(this.commentData[k])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t},\r\n\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(\"videoPage.css\");\r\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./videoPage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./videoPage.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607671790853\n      var cssReload = require(\"C:/Users/Lzw/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}